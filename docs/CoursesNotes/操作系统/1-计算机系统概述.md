# 第 1 章：计算机系统概述

## 目录

[[toc]]

## 1.1 操作系统的基本概念


### 1.1.1 操作系统的概念

> 一般来说，我们没有一个关于操作系统的完全准确的定义。操作系统的存在是因为它们提供了合理方式来解决创建可用计算系统的问题，计算机系统的根本目的是，执行用户程序并且更容易解决用户问题。为实现这一目的，构造了计算机硬件。由于硬件本身并不十分容易使用，因此开发了应用程序。这些应用程序需要一些共同操作，如控制 IO 设备。这些控制和分配 I/O 设备资源的共同功能则被组成一个软件模块：操作系统。

上面是国外经典著作的定义，可以大致了解一下。

### 1.1.2 操作系统的特征

#### 并发与并行

同时发生与同时进行，吐槽一下这两个词，中文的翻译太混乱了，倒过来理解也没问题吧，公说公有理婆说婆有理。建议从嘤语入手，Concurrency 和 Parallel，后面的意思其实是平行引申的，那么可以联系一下，把并行理解成平行。所以一个是同时进行，并行是真正的多个实体同时运行，并发是在一段时间内多个程序轮流进行。

当然这个读者应该清楚，但是我感觉我上的 OS 课没仔细说并行。并行在现代计算机中是应用广泛的，也就是所谓的多线程。可以简单认为多进程是并发，多线程是并行。事实上，早期的多线程没有实现并行，但现代多核处理器遍地都是，可以简单的这么说。记住，进程是为了解决机器能运行多个程序，线程是为了一个进程内的不同任务并行以及共享的。多线程是真的在一个处理器核上跑一个线程的。

#### 共享

上面提到了共享，面试题中会有这个进程间如何通信，线程之间如何通信？不同程序可能进行共享，那么如何实现呢，一般是共享内存，把两段虚拟内存映射在一起，当然还有信号量，信号，管道与 Socket 等形式。

那么这里涉及到共享问题，简单理解为读写锁的设计意图。共享有两种，一种是写，一种是读。很好理解，读的话不改变数据，多个程序读也没问题，写的话就有问题，你改一半我也改一半。包括一些硬件的操作，因为在 Linux 中，一切皆文件，那传输到打印机就是给打印机对应的文件写数据，那打印机打印到一半打印别的内容，后果不堪设想。

#### 虚拟

虚拟也是一个重要的概念，其实并发就是对处理器的一种虚拟，是一种时分复用，还有虚拟内存是一种空分复用。虚拟化可以实现单一资源的共享复用，使得不同的进程共享这些资源。
