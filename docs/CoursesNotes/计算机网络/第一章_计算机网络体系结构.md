# 第一章：计算机网络体系结构

## 目录
[[toc]]

## 考纲

## 计算机网络的概述

### 计算机网络的概念
简而言之，计算机网络就是一些互联的自治的计算机系统的合集。以下三种定义反映了不同技术时期的水平：

- 广义观点：完成远程信息处理或进一步达到信息共享
- 资源共享观点：以能够互相共享资源的方式互联起来的自治计算机系统的集合。
   - 目的：资源共享
   - 组成单元：分布在各地的多台独立的自治计算机
   - 网络遵循统一规则：网络协议
- 用户透明性观点：存在一个为用户自动管理资源的网络操作系统，描述的是分布式系统。

### 计算机网络的组成

从不同角度有不同的分类。

#### 组成部分

主要包括硬件，软件和协议。

- 硬件：主机 (端系统)，通信链路，交换设备，通信处理机。
- 软件：各种实现资源共享的软件和方便用户使用的各种工具。**软件多属于应用层。**
- 协议：协议是计算机网络的核心，规定了网络传输数据的规范。
#### 工作方式

计算机网络 (Internet 部分) 分为边缘部分和核心部分。

- 边缘部分：所有连接到互联网，供用户直接使用的主机。
- 核心部分：大量网络和连接这些网络的路由器组成，为边缘部分提供连通性和交换服务。
#### 功能组成

计算机网络由通信子网和资源子网组成。

- 通信子网：各种传输介质，通信设备，相应的网络协议组成。
- 资源子网：实现资源共享功能的设备及其软件的集合。
### 计算机网络的功能

主要有以下五大功能：

- 数据通信：是计算机最基本最重要的功能，用于实现联网计算机之间的各种信息传输。
- 资源共享：包括软件，硬件，数据。使不同计算机之间实现分工协作。
- 分布式处理：将复杂任务分配给网络中多个主机协作，提高系统利用率。
- 提高可靠性：通过网络互为替代机。
- 负载均衡：将工作任务均衡的分配给各台计算机。
### 计算机网络的分类

#### 按分布范围分类

- 广域网 WAN：负责长距离通信，覆盖范围通常是直径为几十千米到几千千米。广域网是因特网的核心部分，连接广域网的各节点交换机的链路一般都是大通信容量的高速链路。
- 城域网 MAN：城域网直径范围是 5~50 千米。城域网大多采用以太网技术，常并入局域网讨论范围。
- 局域网 LAN：一般由微机和工作站用高速线路项链，范围小，数量上没有严格限制。传统上局域网使用广播技术，广域网使用交换技术。
- 个人局域网：个人用无线技术将设备相互连接的网络。

  > 若中央处理器距离非常近，如仅 1 米数量级或更小，一般成为多处理器系统，不成为计算机网络。

#### 按传输技术分类

- 广播式网络：所有联网计算机都共享一个公共通信信道。发送报文分组时，所有计算机都会接收到，检查目的地址判断是否接受。局域网基本采用广播式通信技术，广域网的无线，卫星通信网络也采用广播式通信技术。
- 点对点网络：每条物理链路连接一对计算机。如果没有直接链路，它们之间的分组传输需要通过中间结点进行接收，储存，转发，直至目的节点。

  > 是否采用分组储存转发与路由选择机制是点对点网络与广播式网络的重要区别，广域网基本都属于点对点网络。

#### 按拓扑结构分类

拓扑结构是指网络节点与通信线路之间的几何关系表示的网络结构。主要有总线型，星型，环形和网状网络。总线型，星型，环形多用于局域网，网状网络多用于广域网。四种网络可以互联成更复杂的网络。 
![image.png](img/%E7%AC%AC%E4%B8%80%E7%AB%A0_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/1667707496275-690863d9-4f51-4558-ae56-c003e921dd30.png )

- 总线型：单根传输线连接，建网容易，节省线路，增减方便，但通信效率不高，总线对故障敏感。
- 星型网络：通过中间设备连接，中间设备起初是计算机，后续为交换机或路由器。便于管理和集中控制，缺点是成本高，中间设备对故障敏感。
- 环形网络：所有接口设备连接成环。环可以是单环或双环，环中信号单向传输。
- 网状网络：每个结点至少有两条路径与其他结点相连，有规则型和非规则型。可靠性高，但控制复杂，线路成本高。

#### 按使用者分类

- 公用网：指电信公司构建的大型网络。
- 专用网：某个部门满足本单位特殊业务而建造的网络。

#### 按交换技术分类

交换技术是指各台主机之间，各通信设备之间，或者彼此交换信息采用的数据格式和交换装置的方式。

- 电路交换网络：源节点和目的节点之间建立一条专用的通路用于传送数据。包括建立连接，传输数据，断开连接三个阶段，典型的是传统电话网络。数据连续的从源节点到目的节点，数据直接传送，时延小。但是线路利用率低，不能充分利用线路容量，不便进行差错控制。
- 报文交换网络：用户使用源地址，目的地址，校验码的信息封装成报文。整个报文传送到相邻结点，全部存储后查找转发表转发。这样充分利用线路容量，实现不同速率的转换，可以格式转换，实现多对一，一对多访问和差错控制。但是资源开销增大，出现缓冲时延，需要额外的控制机制保证报文不乱序，缓冲区难以管理。
- 分组交换网络：也称包交换网络，吧数据分成较短的固定长度的数据库阿池，加上目的地址，源地址组成分组包，用存储转发方式传输。单个分组传送到相邻结点，存储后转发到下一个结点。在报文管理网络的有点智商还有缓冲易于管理，包平均时延更小，网络占用的平均缓冲区更少，更易于标准化，更适合应用。

#### 按传输介质分类

- 有线连接：主要有双绞线网络，同轴电缆网络。
- 无线网络：主要分为蓝牙，微波，无线电。

### _计算机网络的标准化工作_

计算机网络的标准化对计算机网络的发展和推广起到了极为重要的作用。因特网的所有标准都以 RFC (Request For Comments) 的形式在因特网上发布，但并非每个 RFC 都是因特网标准，RFC 要上升为因特网的正式标准需经过以下 4 个阶段。

1. 因特网草案 (Internet Draft)。这个阶段还不是 RFC 文档。
2. 建议标准 (Proposed Standard)。从这个阶段开始就成为 RFC 文档。
3. 草案标准 (Draft Standard)。
4. 因特网标准 (Internet Standard)。

此外，还有试验的 RFC 和提供信息的 RFC。各种 RFC 之间的关系如图 1.3 所示。
![image.png](img/%E7%AC%AC%E4%B8%80%E7%AB%A0_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/1668049140384-b298d0d7-00eb-453f-9164-c9ab0396d30b.png )
在国际上，负责制定、实施相关网络标准的标准化组织众多，主要有如下几个：

- 国际标准化组织 (ISO)：其制定的主要网络标准或规范有 OSI 参考模型、HDLC 等。
- 国际电信联盟 (ITU)：其前身为国际电话电报咨询委员会 (CCITT)，其下属机构 ITU-T 制定了大量有关远程通信的标准。
- 国际电气电子工程师协会 (IEEE)：世界上最大的专业技术团体，由计算机和工程学专业人士组成。IEEE 在通信领域最著名的研究成果是 802 标准。

### 计算机网络的性能指标

性能指标从不同方面度量计算机网络的性能。常用性能指标如下：

- 带宽：表示网络的通信线路所能传送数据的能力，是数字信道所能传输的**最高数据传输速率**，单位是 `b/s`。
- 时延：指数据从网络的一端传输到另一端所需的总时间，由四部分组成：发送时延，传播时延，处理时延，排队时延。一般处理时延和排队时延忽略，对于高速链路提高的是发送速率而不是传播速率。
   - 发送时延：结点将分组的所有比特传输到链路所需时间。计算公式：$$发送时延 = 分组长度 / 信道宽度$$
   
   - 传播时延：电磁波在信道传播一定的距离需要花费的时间。计算公式：$$传播时延 = 信道长度/电磁波在信道上的传播速率$$
   
   - 处理时延：数据在经过交换节点进行储存转发进行的一些必要的处理所花费的时间。
   
   - 排队时延：分组进入路由器要在队列中等待处理。

- 时延带宽积：指发送端发送的第一个比特即将到达终点，发送端已经发送了多少比特，又称为以比特为单位的链路长度。
- 往返时延 RTT：指从发射端发出一个短分组，到发送端收到来自接收端确认总共经历的时延。在互联网中，往返时延还包括各中间结点的处理时延，排队时延及转发数据时的发送时延。
- 吞吐量 (Throughput)：指单位时间内通过某个网络 (或信道、接口) 的数据量。吞吐量受网络带宽或网络额定速率的限制。
- 速率 (Speed)：网络中的速率是指连接到计算机网络上的主机在数字信道上传送数据的速率，也称数据传输速率、数据率或比特率，单位为 b/s (比特/秒)(或 bit/s，有时也写为 bps)。数据率较高时，可用 kb/s (k=10<sup>3</sup>)、Mb/s (M=10<sup>6</sup>) 或 Gb/s (G=10<sup>9</sup>) 表示。在计算机网络中，通常把最高数据传输速率称为带宽。
- 信道利用率：指出某一信道有百分之多少的时间是有数据通过的，即:$$信道利用率 = 有数据通过时间/(有 ＋ 无) 数据通过时间$$。
